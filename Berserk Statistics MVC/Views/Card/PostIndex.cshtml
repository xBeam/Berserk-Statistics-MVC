@model IEnumerable<Statistics.Domain.Card>

@{
    ViewBag.Title = "Карты";
    var grid = new WebGrid(source: Model, rowsPerPage: 20);

    var options = new AjaxOptions()
    {
        UpdateTargetId = "grid",
        Url = Url.Action("IsCardsForSale"),
        LoadingElementId = "loadingIndicator"
    };
}

<h2>Карты</h2>

@section styles
{
    <link href="~/Content/GridStyles.css" rel="stylesheet" />
}

<div style="margin-right: 5px; float: left;">
    @Ajax.ActionLink("Нужные карты", "PostIndex", new { IsForSale = false },
            new AjaxOptions
            {
                UpdateTargetId = "grid",
                LoadingElementId = "loadingIndicator"
            })
</div>

<div style="margin-right: 5px; float: left;">
    @Ajax.ActionLink("Обмен/Продажа", "PostIndex", new { IsForSale = true },
            new AjaxOptions
            {
                UpdateTargetId = "grid",
                LoadingElementId = "loadingIndicator"
            })
</div>

@Html.ActionLink("Добавить", "Create")

@using (Ajax.BeginForm(options))
{
    @grid.GetHtml(tableStyle: "grid",
                  headerStyle: "header",
                  rowStyle: "row",
                  alternatingRowStyle: "alt-row",
                  footerStyle: "footer",
                  htmlAttributes: new { cellpadding = "6px", cellspacing = "0px" },
                  columns: grid.Columns(
                    grid.Column(header: "Правка", format: @<a href="@Html.ActionLink("Edit", "Edit", new { id = @item.CardId })">Править</a>),
                    grid.Column(columnName: "CardName", header: "Название"),
                    grid.Column(columnName: "Edition", header: "Выпуск"),
                    grid.Column(columnName: "Quantity", header: "Количество"),
                    grid.Column(columnName: "Features", header: "Особенности")
                    )
                 )
}